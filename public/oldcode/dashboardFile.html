<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
        integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer" defer />

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"
        defer>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@splidejs/splide@latest/dist/css/splide.min.css">

</head>

<body>

    <!-- NAV BAR -->
    <div class="bg-slate-950 w-[100%] h-full overflow-hidden">

        <div class="sm:px-16 px-6 flex justify-center items-center">
            <div class="xl:max-w-[1280px] w-full">
                <nav class="w-full flex py-6 justify-between items-center navbar"><img src="./images/myLogo.jpeg"
                        alt="hoobank" class="w-[105px] h-[60px]">
                    <ul class="list-none sm:flex hidden justify-end items-center flex-1">
                        <li class="font-poppins font-normal cursor-pointer text-[16px] text-white mr-10"><a
                                href="index.html">Home</a></li>
                        <li class="font-poppins font-normal cursor-pointer text-[16px] text-white mr-10"><a
                                href="organize_Hackathon.html">Organise Hackathon</a></li>
                        <li class="font-poppins font-normal cursor-pointer text-[16px] text-white mr-10"><a
                                href="#product">Blogs</a></li>
                        <li class="font-poppins font-normal cursor-pointer text-[16px] text-white mr-10 ">

                            <div class="dropdown user-profile ">
                                <a href="#" class="nav-link dropdown-toggle" id="navbarDropdown" role="button"
                                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <p id="usernameResult"></p>
                                    <i class="fas fa-user-circle pl-sm-2" aria-hidden="true"></i>
                                </a>


                                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
                                    <a class="dropdown-item" href="/dashboard">
                                        <i class="fas fa-tachometer-alt pr-2" aria-hidden="true"></i>
                                        Dashboard
                                    </a>
                                    <a class="dropdown-item" href="/viewprofile">
                                        <i class="fas fa-user-circle pr-2" aria-hidden="true"></i>
                                        Profile
                                    </a>
                                    <a class="dropdown-item" href="/profile">
                                        <i class="fas fa-cog pr-2"></i>
                                        Edit Profile
                                    </a>
                                    <div class="dropdown-divider"></div>
                                    <a class="dropdown-item text-danger" href="index.html">
                                        <i class="fas fa-sign-out-alt pr-2" aria-hidden="true"></i>
                                        Log out
                                    </a>
                                </div>
                            </div>
                        </li>
                    </ul>

                </nav>
            </div>
        </div>

    </div>


    <!-- HERO SECTION -->

    <section class="h-full bg-slate-800 text-white">

        <div class="left"></div>
        <div class="right"></div>
    </section>










    


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<script>
    $(document).ready(function(){
        // Add click event to dropdown toggle
        $('.user-profile .dropdown-toggle').click(function(){
            // Toggle the dropdown menu
            $(this).next('.dropdown-menu').toggle();
        });

        // Close dropdown when clicking outside of it
        $(document).click(function(e){
            if (!$(e.target).closest('.user-profile').length) {
                $('.dropdown-menu').hide();
            }
        });
    });
</script>

<script>
    // Retrieve email from local storage
    const email = localStorage.getItem('email');

    // Fetch username based on email
    fetch(`/getUsername?email=${encodeURIComponent(email)}`)
        .then(response => response.json())
        .then(data => {
            console.log(data);
            if (data.username) {
                document.getElementById('usernameResult').textContent = `${data.username}`;
            } else {
                document.getElementById('usernameResult').textContent = `Error: User not found`;
            }
        })
        .catch(error => {
            console.error('Error fetching username:', error);
            document.getElementById('usernameResult').textContent = 'Error fetching username';
        });
</script>

</body>

</html>